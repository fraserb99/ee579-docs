
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>Messaging Schema - EE579 Group 4 Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mqtt-messaging-schema" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="EE579 Group 4 Docs" class="md-header__button md-logo" aria-label="EE579 Group 4 Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EE579 Group 4 Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Messaging Schema
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/fraserb99/ee579-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EE579 Group 4 Docs" class="md-nav__button md-logo" aria-label="EE579 Group 4 Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    EE579 Group 4 Docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/fraserb99/ee579-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        For Developers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="For Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          For Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../register-device/" class="md-nav__link">
        Registering a Device
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mqtt/" class="md-nav__link">
        Connecting to the broker
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Messaging Schema
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Messaging Schema
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#device-to-cloud-messages" class="md-nav__link">
    Device to Cloud Messages
  </a>
  
    <nav class="md-nav" aria-label="Device to Cloud Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#button-pushed" class="md-nav__link">
    Button Pushed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#potentiometer-input" class="md-nav__link">
    Potentiometer Input
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temperature-input" class="md-nav__link">
    Temperature Input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-to-device-messages" class="md-nav__link">
    Cloud to Device Messages
  </a>
  
    <nav class="md-nav" aria-label="Cloud to Device Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#led-output" class="md-nav__link">
    LED Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#breath-led" class="md-nav__link">
    Breath LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blink-led" class="md-nav__link">
    Blink LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fade-led" class="md-nav__link">
    Fade LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cycle-led-3" class="md-nav__link">
    Cycle LED 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buzzer-on" class="md-nav__link">
    Buzzer On
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beep-buzzer" class="md-nav__link">
    Beep Buzzer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-device" class="md-nav__link">
    Configure Device
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../webhooks/" class="md-nav__link">
        Web Hooks
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        For Users
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="For Users" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          For Users
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../create-account/" class="md-nav__link">
        Creating an Account
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../multi-tenancy/" class="md-nav__link">
        Multi-Tenancy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../users/" class="md-nav__link">
        Managing Users
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../devices/" class="md-nav__link">
        Managing Devices
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../rules/" class="md-nav__link">
        Rules
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        For Maintainers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="For Maintainers" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          For Maintainers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../front-end/" class="md-nav__link">
        Front End
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cloud-architecture/" class="md-nav__link">
        Cloud Architecture
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#device-to-cloud-messages" class="md-nav__link">
    Device to Cloud Messages
  </a>
  
    <nav class="md-nav" aria-label="Device to Cloud Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#button-pushed" class="md-nav__link">
    Button Pushed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#potentiometer-input" class="md-nav__link">
    Potentiometer Input
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temperature-input" class="md-nav__link">
    Temperature Input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-to-device-messages" class="md-nav__link">
    Cloud to Device Messages
  </a>
  
    <nav class="md-nav" aria-label="Cloud to Device Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#led-output" class="md-nav__link">
    LED Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#breath-led" class="md-nav__link">
    Breath LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blink-led" class="md-nav__link">
    Blink LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fade-led" class="md-nav__link">
    Fade LED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cycle-led-3" class="md-nav__link">
    Cycle LED 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buzzer-on" class="md-nav__link">
    Buzzer On
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beep-buzzer" class="md-nav__link">
    Beep Buzzer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-device" class="md-nav__link">
    Configure Device
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/fraserb99/ee579-docs/edit/main/docs/mqtt-schema.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="mqtt-messaging-schema">MQTT Messaging Schema<a class="headerlink" href="#mqtt-messaging-schema" title="Permanent link">#</a></h1>
<p>This page shows schema for messages between device and cloud. All message parameters should be sent in the message body, in JSON format as detailed below. It should be noted that the JSON is case-sensitive so all JSON key and values must be formatted as shown in the 'Message Body' schema.</p>
<h2 id="device-to-cloud-messages">Device to Cloud Messages<a class="headerlink" href="#device-to-cloud-messages" title="Permanent link">#</a></h2>
<p>Device-to-cloud messages should be sent when an input has been triggered. These messages will be used to trigger rules if the conditions are met.</p>
<h3 id="button-pushed">Button Pushed<a class="headerlink" href="#button-pushed" title="Permanent link">#</a></h3>
<p>This message is sent to the broker whenever a button is pushed on the microcontroller.</p>
<p><strong>Message Body</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;InputType&quot;</span><span class="o">:</span> <span class="kr">enum</span><span class="p">,</span> <span class="c1">// [Button1, Button2]</span>
    <span class="s2">&quot;Value&quot;</span><span class="o">:</span> <span class="kr">int</span> <span class="c1">// The length the button is held in ms</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="potentiometer-input">Potentiometer Input<a class="headerlink" href="#potentiometer-input" title="Permanent link">#</a></h3>
<p>This message is sent every time the analogue value from the potentiometer is read. The value is sent with this message.</p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;InputType&quot;</span><span class="o">:</span> <span class="s2">&quot;Potentiometer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Value&quot;</span><span class="o">:</span> <span class="kr">int</span> <span class="c1">// (0 - 1023) - the analogue value of the potentiometer  </span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="temperature-input">Temperature Input<a class="headerlink" href="#temperature-input" title="Permanent link">#</a></h3>
<p>This message is sent every time the analogue value from the temperature sensor is read. The value is sent with this message.</p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;InputType&quot;</span><span class="o">:</span> <span class="s2">&quot;Temperature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Value&quot;</span><span class="o">:</span> <span class="kr">int</span> <span class="c1">// (-50 to 100) - the temperature in degrees celsius</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="cloud-to-device-messages">Cloud to Device Messages<a class="headerlink" href="#cloud-to-device-messages" title="Permanent link">#</a></h2>
<p>Cloud-to-device messages are used to perform outputs on the device as a result of a rule being triggered. There is also a message used to configure the device's inputs to reduce the number of messages sent.</p>
<h3 id="led-output">LED Output<a class="headerlink" href="#led-output" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller to turn an LED on/off and with the specified colour. </p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;LedOutput&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Peripheral&quot;</span><span class="o">:</span> <span class="kr">enum</span><span class="p">,</span> <span class="c1">// [Led1, Led2, Led3]</span>
    <span class="s2">&quot;Value&quot;</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span> <span class="c1">// the desired state of the LED.</span>
    <span class="s2">&quot;Colour&quot;</span> <span class="kr">enum</span> <span class="c1">// (Led3 only) [Red/Green/Blue/Purple/Yellow/White]</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="breath-led">Breath LED<a class="headerlink" href="#breath-led" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller to breathe an LED at a specified speed and colour.</p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;LedBreathe&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Peripheral&quot;</span><span class="o">:</span> <span class="kr">enum</span><span class="p">,</span> <span class="c1">// [Led1, Led2, Led3]</span>
    <span class="s2">&quot;Period&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span> <span class="c1">// how long the period of the breathing should be in ms.</span>
    <span class="s2">&quot;Colour&quot;</span><span class="o">:</span> <span class="kr">enum</span> <span class="c1">// (Led3 only) [Red/Green/Blue/Purple/Yellow/White]</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="blink-led">Blink LED<a class="headerlink" href="#blink-led" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller to blink an LED at a specified speed and colour.</p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;LedBlink&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Peripheral&quot;</span><span class="o">:</span> <span class="kr">enum</span><span class="p">,</span> <span class="c1">// [Led1, Led2, Led3]</span>
    <span class="s2">&quot;Period&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span> <span class="c1">// how long the period of the blinking should be in ms.</span>
    <span class="s2">&quot;Colour&quot;</span><span class="o">:</span> <span class="kr">enum</span> <span class="c1">// (Led3 only) [Red/Green/Blue/Purple/Yellow/White]</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="fade-led">Fade LED<a class="headerlink" href="#fade-led" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller to fade an LED to a desired state at a specified speed and colour.</p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;LedFade&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Peripheral&quot;</span><span class="o">:</span> <span class="kr">enum</span><span class="p">,</span> <span class="c1">// [Led1, Led2, Led3]</span>
    <span class="s2">&quot;Value&quot;</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span> <span class="c1">// the desired state of the LED.</span>
    <span class="s2">&quot;Duration&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span> <span class="c1">// the duration the fade should take in ms.</span>
    <span class="s2">&quot;Colour&quot;</span><span class="o">:</span> <span class="kr">enum</span> <span class="c1">// (Led3 only): [Red/Green/Blue/Purple/Yellow/White]</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="cycle-led-3">Cycle LED 3<a class="headerlink" href="#cycle-led-3" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller to cycle the LED colour in the specified direction. </p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;LedCycle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Direction&quot;</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span> <span class="c1">// cycle forwards or backwards - [true/false] respectively</span>
    <span class="s2">&quot;Period&quot;</span><span class="o">:</span> <span class="kr">int</span> <span class="c1">// how long the period of the cycle should be in ms </span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="buzzer-on">Buzzer On<a class="headerlink" href="#buzzer-on" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller to turn the piezo buzzer on for the specified length of time. </p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;BuzzerOn&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Duration&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span> <span class="c1">// the duration the buzzer should be on in ms </span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="beep-buzzer">Beep Buzzer<a class="headerlink" href="#beep-buzzer" title="Permanent link">#</a></h3>
<p>This message is sent to make the microcontroller toggle a buzzer at the desired rate. </p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;OutputType&quot;</span><span class="o">:</span> <span class="s2">&quot;BuzzerBeep&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OnDuration&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span> <span class="c1">// the duration the buzzer should be on in ms </span>
    <span class="s2">&quot;OffDuration&quot;</span><span class="o">:</span> <span class="kr">int</span> <span class="c1">// the duration the buzzer should be off in ms </span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="configure-device">Configure Device<a class="headerlink" href="#configure-device" title="Permanent link">#</a></h3>
<p>This message is sent to notify the microcontroller which input devices are involved in rules. This is used to limit the number of messages sent by devices - if an input device is not involved in any rules, messages should not be sent to the broker when its value changes. </p>
<p>This message is sent whenever a device connects to the broker, or if a rule is created, updated, or deleted involving the device.</p>
<p><strong>Message Body</strong>:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;MessageType&quot;</span><span class="o">:</span> <span class="s2">&quot;DeviceConfig&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Button1&quot;</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span>
    <span class="s2">&quot;Button2&quot;</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span>
    <span class="s2">&quot;Potentiometer&quot;</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span>
    <span class="s2">&quot;Temperature&quot;</span><span class="o">:</span> <span class="kr">boolean</span>
<span class="p">}</span>
</code></pre></div></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../mqtt/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Connecting to the broker
            </div>
          </div>
        </a>
      
      
        <a href="../webhooks/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Web Hooks
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
    
  </body>
</html>